<!doctype html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link href="css/mui.min.css" rel="stylesheet" />
		<link rel="stylesheet" type="text/css" href="css/setting.css"/>
		<link rel="stylesheet" type="text/css" href="css/commit.css"/>
		<script src="js/pixel.js" type="text/javascript" charset="utf-8"></script>
	</head>

	<body>
		<header class="mui-bar mui-bar-nav">
		    <a class="mui-icon-arrowleft mui-action-back mui-icon mui-icon-left-nav mui-pull-left"></a>
		    <h1 class="mui-title">填写银行卡信息</h1>
		</header>
		<div class="mui-content">
			<form class="mui-input-group">
			    <div class="mui-input-row">
			    	<label style="width: 100%;">绑定银行卡需要短信确认</label>
			    </div>
			    <div class="mui-input-row">
			        <label>验证码</label>
			        <input id="code" type="text" placeholder="请输入手机验证码">
			        <div id="sendsms" style="width: 65px;" class="mui-right-btn">
			        	获取验证码
			        </div>
			    </div>
			</form>
			<div class="mui-next-warpper">
		    	<button id="submit" type="button" class="mui-btn mui-btn-blue">下一步</button>
		    </div>
		</div>
		<script src="js/mui.min.js"></script>
		<script type="text/javascript">
			mui.init();
			var second = 60, timer = null;
			document.getElementById('submit').addEventListener('tap', function () {
				if (document.getElementById('code').value.trim() === '') {
					mui.toast('请输入手机验证码');
				} else {
					location.href = 'my-setting-bank-success.html';
				}
			});
			
			var smsEl = document.getElementById('sendsms');
			smsEl.addEventListener('tap', function (e) {
//				setCodeHtml();
				timer = setInterval(setCodeHtml, 1000);
			});
			
			function setCodeHtml () {
				if (second >= 0) {
					smsEl.innerText = second + 's';
					second--;
				} else if (timer) {
					clearInterval(timer);
					smsEl.innerText = '重新获取';
					timer = null;
				}
			}
		</script>
	</body>

</html>