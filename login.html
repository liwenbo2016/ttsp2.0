<!doctype html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link rel="stylesheet" type="text/css" href="css/register.css"/>
		<link rel="stylesheet" href="css/mui.min.css" />
		<script src="js/pixel.js"></script>
	</head>

	<body>
		<div class="bg"></div>
		<div class="title"></div>
		<div class="login-logo">
			<img src="img/login-logo.png"/>
		</div>
		<div class="form login">
			<div class="form-item" style="margin-top: 1rem;">
				<div class="left"><i class="r-icon icon-phone"></i></div>
				<input type="password" class="input" id="phone" value="" placeholder="手机号"/>
			</div>
			<div class="form-item">
				<div class="left"><i class="r-icon icon-login"></i></div>
				<input type="password" class="input" id="pwd" value="" placeholder="登录密码"/>
			</div>
			<div class="form-item" style="text-align: center;">
				<button id="submit" class="save">登录</button>
			</div>
			<div class="form-item">
				<a class="link" href="register-code.html">忘记密码</a>
				<a class="link" style="float: right;" href="register-code.html">注册账号</a>
			</div>
		</div>
		<div id="alert">
			<span id="alert-txt"></span>
		</div>
		<script type="text/javascript">
			document.getElementById('submit').onclick = function () {
				var phone = getValueById('phone');
				var pwd = getValueById('pwd')
				if (!validatePhone(phone)) {
					showAlert('请输入正确的手机号');
					return;
				}
				if (!pwd) {
					showAlert('请输入登录密码');
					return;
				}
				window.location.href = 'home.html';
			}
			document.getElementById('phone').onblur = function (e) {
				var phone = getValueById('phone');
				if (!validatePhone(phone)) {
					showAlert('请输入正确的手机号')
					return;
				}
			}
			function getValueById (id) {
				return document.getElementById(id).value;
			}
			
			/* 弹出提示 */
			function showAlert(text) {
				var al = document.getElementById('alert')
				document.getElementById('alert-txt').innerText = text;
				al.style.cssText = 'opacity: 1;';
				setTimeout(function () {
					al.style.cssText = 'opacity: 0;'
				}, 2000);
			}
			function validatePhone (phone) {
				return /^1[3-9][0-9]\d{4,8}$/.test(phone);
			}
		</script>
	</body>

</html>